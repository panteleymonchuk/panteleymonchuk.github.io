<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="./dist/styles/main.css">
    <title>Document</title>
</head>
<body>
@@include('./templates/nav.html')

<section class="section about-me">
    <div class="about-me__text-wrap">
        <h1>Hello. My name is Eugene_</h1>
        <h2>I am full-stack developer with focus on problem which your product solve.</h2>
    </div>

</section>
<section class="section services">
    <div class="container">
        <h3>Services_</h3>
        <div class="service-list row">
            <div class="service col-lg-4">
                <h4>One service</h4>
                <ul>
                    <li>test 1</li>
                    <li>test 1</li>
                    <li>test 1</li>
                    <li>test 1</li>
                </ul>
            </div>
            <div class="service col-lg-4">
                <h4>One service</h4>
                <ul>
                    <li>test 1</li>
                    <li>test 1</li>
                    <li>test 1</li>
                    <li>test 1</li>
                </ul>
            </div>
            <div class="service col-lg-4">
                <h4>One service</h4>
                <ul>
                    <li>test 1</li>
                    <li>test 1</li>
                    <li>test 1</li>
                    <li>test 1</li>
                </ul>
            </div>
        </div>

        <h3 class="technologies-header">Technology stack_</h3>
        <ul class="stack-list row">
            <li class="col-lg-1 stack-list__item"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d9/Node.js_logo.svg/1200px-Node.js_logo.svg.png" alt=""></li>
            <li class="col-lg-1 stack-list__item"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d9/Node.js_logo.svg/1200px-Node.js_logo.svg.png" alt=""></li>
            <li class="col-lg-1 stack-list__item"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d9/Node.js_logo.svg/1200px-Node.js_logo.svg.png" alt=""></li>
            <li class="col-lg-1 stack-list__item"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d9/Node.js_logo.svg/1200px-Node.js_logo.svg.png" alt=""></li>
            <li class="col-lg-1 stack-list__item"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d9/Node.js_logo.svg/1200px-Node.js_logo.svg.png" alt=""></li>
            <li class="col-lg-1 stack-list__item"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d9/Node.js_logo.svg/1200px-Node.js_logo.svg.png" alt=""></li>
            <li class="col-lg-1 stack-list__item"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d9/Node.js_logo.svg/1200px-Node.js_logo.svg.png" alt=""></li>
            <li class="col-lg-1 stack-list__item"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d9/Node.js_logo.svg/1200px-Node.js_logo.svg.png" alt=""></li>
            <li class="col-lg-1 stack-list__item"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d9/Node.js_logo.svg/1200px-Node.js_logo.svg.png" alt=""></li>
            <li class="col-lg-1 stack-list__item"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d9/Node.js_logo.svg/1200px-Node.js_logo.svg.png" alt=""></li>
            <li class="col-lg-1 stack-list__item"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d9/Node.js_logo.svg/1200px-Node.js_logo.svg.png" alt=""></li>
            <li class="col-lg-1 stack-list__item"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d9/Node.js_logo.svg/1200px-Node.js_logo.svg.png" alt=""></li>
            <li class="col-lg-1 stack-list__item"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d9/Node.js_logo.svg/1200px-Node.js_logo.svg.png" alt=""></li>
            <li class="col-lg-1 stack-list__item"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d9/Node.js_logo.svg/1200px-Node.js_logo.svg.png" alt=""></li>
            <li class="col-lg-1 stack-list__item"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d9/Node.js_logo.svg/1200px-Node.js_logo.svg.png" alt=""></li>
            <li class="col-lg-1 stack-list__item"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d9/Node.js_logo.svg/1200px-Node.js_logo.svg.png" alt=""></li>
            <li class="col-lg-1 stack-list__item"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d9/Node.js_logo.svg/1200px-Node.js_logo.svg.png" alt=""></li>
            <li class="col-lg-1 stack-list__item"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d9/Node.js_logo.svg/1200px-Node.js_logo.svg.png" alt=""></li>
            <li class="col-lg-1 stack-list__item"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d9/Node.js_logo.svg/1200px-Node.js_logo.svg.png" alt=""></li>
        </ul>
    </div>

</section>
<section class="section portfolio">
    <h3 class="technologies-header">Portfolio_</h3>
    <div class="container">
        <ul class="portfolio-list row">
            <li class="col-lg-4">
                <div class="portfolio__item" style="background-image: url('https://upload.wikimedia.org/wikipedia/commons/thumb/b/b6/Image_created_with_a_mobile_phone.png/1200px-Image_created_with_a_mobile_phone.png')">
                    <a href="" class="portfolio__link">Project name <span class="glyphicon"></span></a>
                </div>
            </li>
            <li class="col-lg-4">
                <div class="portfolio__item" style="background-image: url('https://upload.wikimedia.org/wikipedia/commons/thumb/b/b6/Image_created_with_a_mobile_phone.png/1200px-Image_created_with_a_mobile_phone.png')">
                    <a href="" class="portfolio__link">Project name <span class="glyphicon"></span></a>
                </div>
            </li>
            <li class="col-lg-4">
                <div class="portfolio__item" style="background-image: url('https://upload.wikimedia.org/wikipedia/commons/thumb/b/b6/Image_created_with_a_mobile_phone.png/1200px-Image_created_with_a_mobile_phone.png')">
                    <a href="" class="portfolio__link">Project name <span class="glyphicon"></span></a>
                </div>
            </li>
        </ul>
    </div>
</section>
<section class="section get-in-touch">
    <h3 class="technologies-header">Get in touch_</h3>
    <div class="container">
        <ul class="portfolio-list row">
            <li class="col-lg-4">
                <div class="portfolio__item" style="background-image: url('https://upload.wikimedia.org/wikipedia/commons/thumb/b/b6/Image_created_with_a_mobile_phone.png/1200px-Image_created_with_a_mobile_phone.png')">
                    <a href="" class="portfolio__link">Project name <span class="glyphicon"></span></a>
                </div>
            </li>
            <li class="col-lg-4">
                <div class="portfolio__item" style="background-image: url('https://upload.wikimedia.org/wikipedia/commons/thumb/b/b6/Image_created_with_a_mobile_phone.png/1200px-Image_created_with_a_mobile_phone.png')">
                    <a href="" class="portfolio__link">Project name <span class="glyphicon"></span></a>
                </div>
            </li>
            <li class="col-lg-4">
                <div class="portfolio__item" style="background-image: url('https://upload.wikimedia.org/wikipedia/commons/thumb/b/b6/Image_created_with_a_mobile_phone.png/1200px-Image_created_with_a_mobile_phone.png')">
                    <a href="" class="portfolio__link">Project name <span class="glyphicon"></span></a>
                </div>
            </li>
        </ul>
    </div>
</section>

<script>
  const backgrounds = ['65,122,186', '255,105,0', '255,169,0', '242,242,242'];

  function offset(el) {
    const rect = el.getBoundingClientRect(),
      scrollTop = window.pageYOffset || document.documentElement.scrollTop;
    return rect.top + scrollTop
  }



  const sections = document.querySelectorAll('section');
  const offsets = [];

  sections.forEach(function (el) {
    offsets.push(offset(el))
  });

  currentSlideIndex = offsets.findIndex(function(offset, index) {
    return window.scrollY >= offset && window.scrollY < offsets[index + 1];
  });
  currentBg = backgrounds[currentSlideIndex];
  document.body.style.backgroundColor = `rgb(${currentBg})`;


  document.addEventListener('scroll', function () {
    if (window.scrollY > offsets[offsets.length-1]) {
      return false;
    }
    currentSlideIndex = offsets.findIndex(function(offset, index) {
      return window.scrollY >= offset && window.scrollY < offsets[index + 1];
    });

    const nextBg = backgrounds[currentSlideIndex + 1];
    const currentBg = backgrounds[currentSlideIndex];
    const nextSlideOffset = offsets[currentSlideIndex + 1];
    const currentSlideOffset = offsets[currentSlideIndex];

    let percentage = 1 - (nextSlideOffset - window.scrollY) / (nextSlideOffset - currentSlideOffset);

    // if ((nextSlideOffset - window.scrollY) / (nextSlideOffset - currentSlideOffset) < 0.25) {
    //   const seventyFivePercentage = currentSlideOffset + (nextSlideOffset - currentSlideOffset) * 0.75;
    //   percentage = 1 - (nextSlideOffset - window.scrollY) / (nextSlideOffset - currentSlideOffset);
    // }

    console.log(' --- percentage --- ', percentage);

    if (percentage ===  1 && percentage === 0) {
      document.body.style.backgroundColor = `rgb(${currentBg})`;
    }

    const newColor = nextBg.split(',').map(function(item, index) {
      const currentBgArr = currentBg.split(",");
      const colorDiff = Math.floor((item - currentBgArr[index]) * percentage);
      return +currentBgArr[index] + colorDiff;
    });
    document.body.style.backgroundColor = `rgb(${newColor.join(",")})`;


  });
</script>

</body>
</html>
